<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Share Modal Test</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    .btn-facebook { background: #3b5998; color: #fff; margin: 5px; }
    .btn-twitter { background: #1da1f2; color: #fff; margin: 5px; }
    .btn-linkedin { background: #0077b5; color: #fff; margin: 5px; }
  </style>
</head>
<body>

<div class="container mt-5">
  <div class="profile_share">
    <span class="profile_share_btn btn btn-primary" id="btn-share"
      data-modal-title="Share Erick Perez profile on social media"
      data-modal-description="Recommended Erick Perez to your network.<br>A genuine, personal endorsement can carry a lot of weight <br> and be far more impactful."
      data-facebook-label="Share on Facebook"
      data-twitter-label="Share on Twitter"
      data-twitter-text="Twitter Text"
      data-linkedin-label="Share on LinkedIn"
      title="Share Erick Perez profile on social media">
      <i class="fi fi-rr-arrow-up-from-square"></i> Share
    </span>
  </div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<!-- Bootstrap Bundle (with Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
(function ($) {
  "use strict";

  $(document).ready(function () {
    const pageUrl = encodeURIComponent(window.location.href);

    $("#btn-share").on("click", function () {
      $("#modal-share").remove();

      const el = $(this);
      const shareModalTitle = el.data("modal-title");
      const shareModalDescription = el.data("modal-description");
      const shareFacebookLabel = el.data("facebook-label");
      const shareTwitterLabel = el.data("twitter-label");
      const shareTwitterText = el.data("twitter-text");
      const shareLinkedInLabel = el.data("linkedin-label");

      const shareHtml = `
        <div class="modal fade" id="modal-share" tabindex="-1" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
              <div class="modal-header border-0 pb-0">
                <h5 class="modal-title">${shareModalTitle}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
              </div>
              <div class="modal-body pt-0 text-center">
                ${shareModalDescription ? `<p>${shareModalDescription}</p>` : ""}
                <ul class="list-unstyled">
                  ${shareFacebookLabel ? `<li><a href="https://www.facebook.com/sharer/sharer.php?u=${pageUrl}" target="_blank" class="btn btn-facebook"><i class="icon-facebook"></i> ${shareFacebookLabel}</a></li>` : ""}
                  ${shareTwitterLabel ? `<li><a href="https://twitter.com/intent/tweet?text=${shareTwitterText}&url=${pageUrl}" target="_blank" class="btn btn-twitter"><i class="icon-twitter"></i> ${shareTwitterLabel}</a></li>` : ""}
                  ${shareLinkedInLabel ? `<li><a href="https://www.linkedin.com/sharing/share-offsite/?url=${pageUrl}" target="_blank" class="btn btn-linkedin"><i class="icon-linkedin"></i> ${shareLinkedInLabel}</a></li>` : ""}
                </ul>
              </div>
            </div>
          </div>
        </div>
      `;

      $("body").append(shareHtml);

      const modal = new bootstrap.Modal(document.getElementById("modal-share"));
      modal.show();
    });
  });

})(jQuery);
</script>
</body>
</html>
